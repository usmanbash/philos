{%- comment -%}
	Section: Two Images
	Description:  This section is designed to showcase a main image alongside the smaller
	              images, with support for dynamically reversing their display order.
	              The 'Reversed' setting allows for flexibility in presentation,
	              catering to different design needs or content hierarchy.

	Usage: Use this section to display a main image alongside the smaller images.

	Accepts:
	- Main_Image: An image picker for selecting the main image to display.
	- Small_Image: An image picker for selecting the first small image to display.
	- Small_Image_Position: A select dropdown that allows for the selection of the
	                       position of the small image.
	                       Options: Left, Right
	- Reversed: A checkbox that, when checked, reverses the order of the main image and
	            small images

	- Variables:
	  - is_reversed: Determines the order of image display
	                True if the main image is on the right, false otherwise.
	  - small_image_position: Determines the position of the small image
	                        Options: Left, Right

	@see Image Object: https://shopify.dev/docs/api/liquid/objects/image
{%- endcomment -%}

{%- liquid
	# Variables
	assign is_reversed = section.settings.reversed
	assign small_image_position = section.settings.small_image_position

	if is_reversed
		# Determine the position of the main image in case of reversed order
		assign main_image_col_start = 'lg:col-start-3'

		# Determine the position of the small image in case of reversed order
		case small_image_position
			when 'left'
				assign small_image_col_start = 'lg:col-start-1'
			when 'right'
				assign small_image_col_start = 'lg:col-start-2'
			else
				assign small_image_col_start = 'lg:col-start-1'
		endcase

		# if not reversed
	else
		# Determine the position of the main image in case of normal order
		assign main_image_col_start = 'lg:col-start-1'

		# Determine the position of the small image in case of normal order
		case small_image_position
			when 'left'
				assign small_image_col_start = 'lg:col-start-3'
			when 'right'
				assign small_image_col_start = 'lg:col-start-4'
			else
				assign small_image_col_start = 'lg:col-start-3'
		endcase
	endif
-%}

<div
	x-data='twoImages'
	class='two-images relative w-full px-5 sm:px-10 my-14'>
	<div class='grid grid-cols-1 lg:grid-cols-4 gap-10 lg:gap-6'>
		{%- comment -%} Main Image Wrapper {%- endcomment -%}
		<div class='two-images__main-image-wrapper lg:col-span-2 lg:row-span-full {{ main_image_col_start }}'>
      {%-
        render 'scale-down-image',
        image: section.settings.main_image
        originalRatio: true
      -%}
		</div>

		{%- comment -%} Small Image {%- endcomment -%}
		<div class='two-images__small-image-wrapper lg:col-span-1 {{ small_image_col_start }}'>
      {%-
        render 'scale-down-image',
        image: section.settings.small_image
        originalRatio: true
      -%}
		</div>
	</div>
</div>

{% schema %}
{
	"name": "Two Images",
	"tag": "section",
	"settings": [
		{
			"type": "image_picker",
			"label": "Main Image",
			"id": "main_image"
		},
		{
			"type": "image_picker",
			"label": "Small Image",
			"id": "small_image"
		},
		{
			"type": "select",
			"label": "Small Image Position",
			"id": "small_image_position",
			"default": "left",
			"options": [
				{
					"label": "Left",
					"value": "left"
				},
				{
					"label": "Right",
					"value": "right"
				}
			]
		},
		{
			"type": "checkbox",
			"label": "Reversed",
			"id": "reversed",
			"info": "Reverses the order of the main image and small image, moving the main image to the right side."
		}
	],
	"blocks": [],
	"presets": [
		{
			"name": "Two Images"
		}
	]
}
{% endschema %}
