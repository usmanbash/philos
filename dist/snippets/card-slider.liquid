{%- comment -%}
  Snippet: card-slider.liquid
  Description:
    A reusable wrapper snippet for card sliders using Swiper.js.
    It wraps any type of card content into a Swiper-compatible slider structure.

  Parameters:
    - header (string, optional): The header content (e.g. slider-navbar.liquid).
    - slides (string): The HTML content of the individual slides (must include .swiper-slide elements).
    - slider_id (string): A unique ID used to scope the Swiper instance and Alpine data.

  Usage:
    {% raw %}
      {%- capture header -%}
        {%- render 'slider-navbar', title: title -%}
      {%- endcapture -%}

      {% capture slides %}
        {%- if section.blocks.size > 0 -%}
          {%- for block in section.blocks -%}
            {%- case block.type -%}
              {%- when 'collection_card' -%}
                <div class="swiper-slide relative">
                  {%- render 'shop-category-card', data: block.settings -%}
                </div>
            {%- endcase -%}
          {%- endfor -%}
        {%- endif -%}
      {% endcapture %}

      {% render 'card-slider',
        header: header,
        slides: slides,
        slider_id: slider_id
      %}
    {% endraw %}
{%- endcomment -%}

<div
  x-data="cardSlider({ slidesPerViewLg: {{ slides_per_view_lg | default: 3 }} })"
  x-ref="sliderEl"
  class="swiper-container relative w-full overflow-hidden">

  {%- comment -%} Slider Header {%- endcomment -%}
  {%- if header -%}
    {{ header }}
  {%- endif -%}

  {%- comment -%} Slider {%- endcomment -%}
  <div class="swiper-wrapper">
    {{ slides }}
  </div>

</div>
