<div class='color-selector flex items-end justify-between relative'>

  <div class="flex items-end justify-between">
    {%- for value in options -%}
      {%- liquid
        # Get the first variant of the color that is available
        assign first_color_variant = product.variants | where: color_option, value | first
      -%}
      <div class='relative mr-0.5 w-1/5 flex aspect-[.9] wrapper'>

        <input
          class='absolute z-50'
          x-model="Color"
          type="radio"
          value="{{ value | escape }}"
          id="{{ value | escape }}">


        <label
          class='inline-block h-full w-full'
          :class='{
            "opacity-20 pointer-events-none": !isOptionAvailable("Color", "{{ value }}", {{ index }})
          }'
          for="{{ value | escape }}">
          <span class="relative block h-full w-full cursor-pointer">
            {% if first_color_variant.featured_image %}
              {%- render 'product-media', media: first_color_variant.featured_image  -%}
            {% endif %}
          </span>
        </label>
      </div>
    {%- endfor -%}

    {% comment %} SELECTED COLOR {% endcomment %}
    <div class="flex items-end justify-end w-1/5">
      <span x-text='Color' class="capitalize text-font-base"></span>
    </div>
  </div>
</div>
