{%- comment -%}
Snippet: Parallax Picture
Description: Renders a parallax image component.

@param {Object} image - The image object.
@param {Object} image_mobile - The mobile image object.
@param {string} ratio - The aspect ratio of the image.
@param {boolean} originalRatio - Flag indicating whether to use the original aspect ratio of the image.
@param {string} innerClass - Additional CSS class for the inner image element.
{%- endcomment -%}

{% liquid
  # Move inline styles logic to liquid
  assign elStyle = 'height: 100%;'

  if imgRatio
    assign elStyle = 'aspect-ratio: ' | append: imgRatio | append: ';'
  endif

  if originalRatio == true
    assign elStyle = 'aspect-ratio: ' | append: image.width | append: '/' | append: image.height | append: ';'
  endif
%}
{%- if image != blank -%}
  <div
    x-data='parallaxImage()'
    class='parallax-image overflow-hidden relative w-full'
    style='{{ elStyle }}'>
    {% comment %} :style="elStyle" {% endcomment %}
    <picture class="inline-block w-full h-full">
      {% comment %} Mobile source {% endcomment %}
      <source
        media='(max-width: 619px)'
        srcset='{{ image_mobile | image_url: width: 619,  format: 'webp' }}'>
      {% comment %} Desktop source {% endcomment %}
      <img
        x-ref='img'
        style='height: calc(100% + 7.5vh);top: -4vh;'
        data-scroll
        data-scroll-speed='-0.075'
        src='{{ image | image_url: width: 1920,  format: 'webp' }}'
        alt='{{ image.alt | escape }}'
        loading='lazy'
        class='w-full object-cover object-center absolute {{ innerClass }}'>
    </picture>
  </div>
{%- endif -%}
