{% comment %}
  Snippet: seen-on-you-card
  Description:
    Renders a seen-on-you card

  Parameters:
    - item: metaobject (seen_on)

{% endcomment %}
{% liquid

  # image
  assign image = item.image.value
  
  # link 
  assign link = item.link.value
  assign link_url = link.url
  assign link_text = link.text
  
  # text / description
  assign text = item.text

  # get product references
  assign product_references = item.product_references.value

%}

<div class="seen-on-you-card flex flex-col h-full w-full">

  {% if image %}
    {% render 'scale-down-image',
      image: image,
      inner_class: 'w-full h-auto object-cover',
      imgRatio: 0.82
    %}
  {% endif %}

  <div class="mb-14 lg:mb-0 pt-4 px-2">

    <div class="mb-2 text-16">
      {% if link != blank %}
        <a
          href="{{ link_url }}"
          target="_blank"
          rel="noopener"
          class="link link--reversed">
          {% if link_text != blank %}
            {{ link_text }}
          {% endif %}
        </a>
      {% endif %}
      {% comment %} {{ 'general.wears' | t: default: 'wears' }} {% endcomment %}
    </div>


    <div class="text-16">
      {% comment %} PRODUCT REFERENCES {% endcomment %}
      {% if product_references != blank %}
        <div class="flex flex-col items-start gap-1 mb-2">
          {% for refProduct in product_references %}
            <a href="{{ refProduct.url }}" class="link link--line">
              {{ refProduct.title }}
            </a>
          {% endfor %}
        </div>
      {% endif %}
      
      {% comment %} Text / Description {% endcomment %}
      {% if text %}
        <div class="content">
          {{ text | metafield_tag }}
        </div>
      {% endif %}
    </div>
    
  </div>
</div>
